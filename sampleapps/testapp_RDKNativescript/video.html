 <!-- /**
 * If not stated otherwise in this file or this component's LICENSE
 * file the following copyright and licenses apply:
 *
 * Copyright 2024 RDK Management
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 **/ -->
 
 <!DOCTYPE html>
 <html>
 <head>
   <meta charset="UTF-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
   <title>JSRuntime Player App</title>
   <style>
     body {
       font-family: sans-serif;
       margin: 0;
       display: flex;
       flex-direction: column;
       height: 100vh;
     }
 
     header {
       background-color: #fffdd0;
       padding: 10px;
       text-align: center;
       position: relative;
       z-index: 10;
     }
 
     .main-content {
       display: flex;
       flex-grow: 1;
       position: relative;
     }
 
     .video-list {
       width: 200px;
       background-color: #e0e0e0;
       padding: 10px;
       overflow-y: auto;
       overflow-x: hidden;
       text-align: center;
       position: relative;
       z-index: 10;
       pointer-events: auto;
       display: flex;
       flex-direction: column;
       justify-content: space-between; 
     }
 
     .video-list ul {
       list-style: none; 
       padding: 0;
     }
 
     .video-list li {
       cursor: pointer;
       margin-bottom: 20px;
       background-color: #f0f0f0;
       padding: 10px;
       outline: none;
       font-family: sans-serif; 
       font-weight: bold;
     }
     
     .video-list li:hover, 
     .video-list li:focus {
       background-color: #d0f0c0;
     }
 
     .video-preview {
       flex-grow: 1;
       display: flex;
       justify-content: center;
       align-items: center;
       background: transparent;
       border: none;
       margin-left: 20px;
       pointer-events: none; 
       position: absolute;
       width: 100%;
       height: 100%;
     }
    
     .video-preview video {
       max-width: 90%;
       max-height: 90%;
       opacity: 0;
     }
 
     .app-info {
       margin-top: auto;
       padding: 8px;
       background: #f0f0f0;
       font-size: 13px;
       text-align: center;
       word-wrap: break-word;
       overflow-wrap: break-word;
       max-width: 100%;
       box-sizing: border-box;
     }

     #appOutput {
       margin-top: 5px;
       font-family: sans-serif;
       font-size: 12px;
       white-space: pre-wrap;
       word-break: break-word;
     }
    
     #appOutput.active {
        background-color: #c0e1f0;
     }
   </style>
 </head>
 <body>
 
 <header>
   <h1>JSRuntime Player App</h1>
 </header>
 
<div class="main-content">
  <div class="video-list">
    <ul id="videoList">
      <li data-video="video1" tabindex="0">Video 1</li>
      <li data-video="video2" tabindex="0">Video 2</li>
      <li data-video="video3" tabindex="0">Video 3</li>
      <li data-video="video4" tabindex="0">Video 4</li>
      <li data-video="video5" tabindex="0">Video 5</li>
    </ul>
    <div class="app-info">
      <strong>Running Apps:</strong>
      <div id="appOutput">Press "right-arrow" to see running applications in wpeframework logs</div>
    </div>
  </div>

  <div class="video-preview">
    <video id="videoPlayer" autoplay></video>
  </div>
</div>
 
 <script src="url_selector.js"></script>
 <script src="thunder.js"></script>
 <script>
   const videoList = document.getElementById("videoList");
   const videoItems = Array.from(document.querySelectorAll(".video-list li"));
   let currentVideoIndex = 0;

   videoList.addEventListener("click", (event) => {
     if (event.target.tagName === "LI") {
       const videoId = event.target.getAttribute("data-video");
       loadVideo(videoId);
     }
   });
 
   document.addEventListener("keydown", (event) => {
     switch (event.key) {
       case "ArrowDown":
         currentVideoIndex = (currentVideoIndex + 1) % videoItems.length;
         videoItems[currentVideoIndex].focus();
         break;
 
       case "ArrowUp":
         currentVideoIndex = (currentVideoIndex - 1 + videoItems.length) % videoItems.length;
         videoItems[currentVideoIndex].focus();
         break;

       case "ArrowRight":
         getApplications();
         document.getElementById("appOutput")?.classList.add("active");
         setTimeout(() => {
         document.getElementById("appOutput")?.classList.remove("active");
         }, 800);
         break;
 
       default:
         break;
     }
   });

   videoItems.forEach((item, index) => {
    item.addEventListener("focus", () => {
      currentVideoIndex = index;
      const videoId = item.getAttribute("data-video");
      loadVideo(videoId);
    });
  });
 
   function loadVideo(videoId) {
     loadVideoFromJS(videoId);
   }
 </script>
 
 </body>
 </html>